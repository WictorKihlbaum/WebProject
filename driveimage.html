<!doctype html>
<html>
	<head>
		<meta charset="UTF-8">
        <meta name="google-signin-scope" content="https://www.googleapis.com/auth/drive profile email">
        <meta name="google-signin-client_id" content="788591829115-1uq193qnm8r72ujqej7l3hdj558hj7ej.apps.googleusercontent.com">
        <title>Picme Edit Drive Image</title>
        <!-- Skeleton CSS Framework -->
        <link rel="stylesheet" type="text/css" href="css/normalize.css">
        <link rel="stylesheet" type="text/css" href="css/skeleton.css">
        <!-- Mainstyle CSS -->
        <link rel="stylesheet" type="text/css" href="css/mainstyle.css">
        <!-- Navigation CSS -->
        <link rel="stylesheet" type="text/css" href="css/nav.css">
        <!-- Button-styles -->
        <link rel="stylesheet" type="text/css" href="css/buttons.css">
        <!-- Drive Image Subpage CSS -->
        <link rel="stylesheet" type="text/css" href="css/driveimage.css">
        <!-- Adobe Typekit Fonts (Place in header according to Adobe) -->
        <script src="https://use.typekit.net/fni2mbz.js"></script>
		<script>try{Typekit.load({ async: true });}catch(e){}</script>
	</head>
	<body>
    	<header>
        	<img src="#" id="profile-image" title="Profile picture" alt="Profile picture" style="display: none"/>
            <h1 id="website-name">Picme</h1>
            <!-- Google login/logout button -->
            <div class="g-signin2" data-onsuccess="onSignIn"></div>
            <a href="#" id="signout-button" onclick="signOut()">Sign out</a>
        </header>
        <main>
        
        	<nav>
            	<ul>
                	<li id="active"><a href="index.html">Home</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>
            
            <div id="top-text">
            	You have to login to be able to load your Google Drive images. 
                However, if you already have done so you should be able to see your images right away.
                Only images in formats Png and Jpeg/Jpg will be shown. These are the formats the Aviary editor accepts.
            </div>
            
            <div id="need-to-login-text">
            	Your Google Drive images will be listed here...
            </div>
            
            <div id="image-div">
            	<ul id="image-list">
                	<!-- li-tags are being added from GoogleDriveClass.js -->
                </ul>
            </div>
            <p>
            	<a href="index.html" class="button-class go-back-button">Go back</a>
            </p>
            
        </main>
        <footer>
        	<p class="footer-text">Contact</p>
            <div id="contact-circles-container">
                <a href="https://www.facebook.com/wictor.kihlbaum">
                    <div class="contact-circles" id="facebook-circle"></div>
                </a>
                <a href="https://twitter.com/WictorKihlbaum">
                    <div class="contact-circles" id="twitter-circle"></div>
                </a>
                <div class="contact-circles" id="google-circle" data-clipboard-text="wictor.kihlbaum@gmail.com" title="Copy email to clipboard"></div>
            </div>
            <p id="copyright">Â© 2016 Webbteknik 2 Projekt</p>
        </footer>
        
        <!-- Google Platform Library -->
        <script src="https://apis.google.com/js/platform.js" async defer></script>
        <!-- Load Feather code -->
		<script type="text/javascript" src="http://feather.aviary.com/imaging/v2/editor.js"></script>
        <!-- DriveClass JS -->
        <script src="js/DriveClass.js"></script>
        
        
        <script src="js/GoogleDriveClass.js"></script>
       
	    <script>
	   
	     function onSignIn(googleUser) {
	   		var profile = googleUser.getBasicProfile();
		  	console.log('ID: ' + profile.getId()); // Do not send to your backend! Use an ID token instead.
		  	console.log('Name: ' + profile.getName());
		  	console.log('Image URL: ' + profile.getImageUrl());
		  	console.log('Email: ' + profile.getEmail());
			
			GoogleDriveClass.checkAuth();
			
			var profileImage = document.getElementById('profile-image');
			profileImage.src = profile.getImageUrl();
			profileImage.style.display = 'inline';
		 }
		
		 function signOut() {
    		var auth2 = gapi.auth2.getAuthInstance();
    		auth2.signOut().then(function() {
      			console.log('User signed out.');
    		});
			
			auth2.disconnect();
  		 }
		
		 function init() {
			GoogleDriveClass.init();
		 };
		
	    </script>
      
        <script src="https://apis.google.com/js/client.js?onload=init"></script>
        
        <!-- Clipboard JS -->
        <script src="js/clipboard.js-master/dist/clipboard.min.js"></script>
    	<script src="js/ClipboardClass.js"></script>
        
    </body>
</html>
